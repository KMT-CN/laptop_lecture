{
  "version": 3,
  "sources": ["../../@typescript/ata/dist/index.js"],
  "sourcesContent": ["var __defProp = Object.defineProperty;\r\nvar __defProps = Object.defineProperties;\r\nvar __getOwnPropDescs = Object.getOwnPropertyDescriptors;\r\nvar __getOwnPropSymbols = Object.getOwnPropertySymbols;\r\nvar __hasOwnProp = Object.prototype.hasOwnProperty;\r\nvar __propIsEnum = Object.prototype.propertyIsEnumerable;\r\nvar __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;\r\nvar __spreadValues = (a, b) => {\r\n  for (var prop in b || (b = {}))\r\n    if (__hasOwnProp.call(b, prop))\r\n      __defNormalProp(a, prop, b[prop]);\r\n  if (__getOwnPropSymbols)\r\n    for (var prop of __getOwnPropSymbols(b)) {\r\n      if (__propIsEnum.call(b, prop))\r\n        __defNormalProp(a, prop, b[prop]);\r\n    }\r\n  return a;\r\n};\r\nvar __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));\r\nvar __async = (__this, __arguments, generator) => {\r\n  return new Promise((resolve, reject) => {\r\n    var fulfilled = (value) => {\r\n      try {\r\n        step(generator.next(value));\r\n      } catch (e) {\r\n        reject(e);\r\n      }\r\n    };\r\n    var rejected = (value) => {\r\n      try {\r\n        step(generator.throw(value));\r\n      } catch (e) {\r\n        reject(e);\r\n      }\r\n    };\r\n    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);\r\n    step((generator = generator.apply(__this, __arguments)).next());\r\n  });\r\n};\r\n\r\n// src/apis.ts\r\nvar getNPMVersionsForModule = (config, moduleName) => {\r\n  const url = `https://data.jsdelivr.com/v1/package/npm/${moduleName}`;\r\n  return api(config, url, { cache: \"no-store\" });\r\n};\r\nvar getNPMVersionForModuleReference = (config, moduleName, reference) => {\r\n  const url = `https://data.jsdelivr.com/v1/package/resolve/npm/${moduleName}@${reference}`;\r\n  return api(config, url);\r\n};\r\nvar getFiletreeForModuleWithVersion = (config, moduleName, version) => __async(void 0, null, function* () {\r\n  const url = `https://data.jsdelivr.com/v1/package/npm/${moduleName}@${version}/flat`;\r\n  const res = yield api(config, url);\r\n  if (res instanceof Error) {\r\n    return res;\r\n  } else {\r\n    return __spreadProps(__spreadValues({}, res), {\r\n      moduleName,\r\n      version\r\n    });\r\n  }\r\n});\r\nvar getDTSFileForModuleWithVersion = (config, moduleName, version, file) => __async(void 0, null, function* () {\r\n  const url = `https://cdn.jsdelivr.net/npm/${moduleName}@${version}${file}`;\r\n  const f = config.fetcher || fetch;\r\n  const res = yield f(url);\r\n  if (res.ok) {\r\n    return res.text();\r\n  } else {\r\n    return new Error(\"OK\");\r\n  }\r\n});\r\nfunction api(config, url, init) {\r\n  const f = config.fetcher || fetch;\r\n  return f(url, init).then((res) => {\r\n    if (res.ok) {\r\n      return res.json().then((f2) => f2);\r\n    } else {\r\n      return new Error(\"OK\");\r\n    }\r\n  });\r\n}\r\n\r\n// src/edgeCases.ts\r\nvar mapModuleNameToModule = (moduleSpecifier) => {\r\n  const builtInNodeMods = [\r\n    \"assert\",\r\n    \"assert/strict\",\r\n    \"async_hooks\",\r\n    \"buffer\",\r\n    \"child_process\",\r\n    \"cluster\",\r\n    \"console\",\r\n    \"constants\",\r\n    \"crypto\",\r\n    \"dgram\",\r\n    \"diagnostics_channel\",\r\n    \"dns\",\r\n    \"dns/promises\",\r\n    \"domain\",\r\n    \"events\",\r\n    \"fs\",\r\n    \"fs/promises\",\r\n    \"http\",\r\n    \"http2\",\r\n    \"https\",\r\n    \"inspector\",\r\n    \"inspector/promises\",\r\n    \"module\",\r\n    \"net\",\r\n    \"os\",\r\n    \"path\",\r\n    \"path/posix\",\r\n    \"path/win32\",\r\n    \"perf_hooks\",\r\n    \"process\",\r\n    \"punycode\",\r\n    \"querystring\",\r\n    \"readline\",\r\n    \"repl\",\r\n    \"stream\",\r\n    \"stream/promises\",\r\n    \"stream/consumers\",\r\n    \"stream/web\",\r\n    \"string_decoder\",\r\n    \"sys\",\r\n    \"timers\",\r\n    \"timers/promises\",\r\n    \"tls\",\r\n    \"trace_events\",\r\n    \"tty\",\r\n    \"url\",\r\n    \"util\",\r\n    \"util/types\",\r\n    \"v8\",\r\n    \"vm\",\r\n    \"wasi\",\r\n    \"worker_threads\",\r\n    \"zlib\"\r\n  ];\r\n  if (moduleSpecifier.indexOf(\"node:\") === 0 || builtInNodeMods.includes(moduleSpecifier)) {\r\n    return \"node\";\r\n  }\r\n  const [a = \"\", b = \"\"] = moduleSpecifier.split(\"/\");\r\n  const moduleName = a.startsWith(\"@\") ? `${a}/${b}` : a;\r\n  return moduleName;\r\n};\r\n\r\n// src/index.ts\r\nvar setupTypeAcquisition = (config) => {\r\n  const moduleMap = /* @__PURE__ */ new Map();\r\n  const fsMap = /* @__PURE__ */ new Map();\r\n  let estimatedToDownload = 0;\r\n  let estimatedDownloaded = 0;\r\n  return (initialSourceFile) => {\r\n    estimatedToDownload = 0;\r\n    estimatedDownloaded = 0;\r\n    return resolveDeps(initialSourceFile, 0).then((t) => {\r\n      var _a, _b;\r\n      if (estimatedDownloaded > 0) {\r\n        (_b = (_a = config.delegate).finished) == null ? void 0 : _b.call(_a, fsMap);\r\n      }\r\n    });\r\n  };\r\n  function resolveDeps(initialSourceFile, depth) {\r\n    return __async(this, null, function* () {\r\n      var _a, _b, _c, _d, _e;\r\n      const depsToGet = getNewDependencies(config, moduleMap, initialSourceFile);\r\n      depsToGet.forEach((dep) => moduleMap.set(dep.module, { state: \"loading\" }));\r\n      const trees = yield Promise.all(depsToGet.map((f) => getFileTreeForModuleWithTag(config, f.module, f.version)));\r\n      const treesOnly = trees.filter((t) => !(\"error\" in t));\r\n      const hasDTS = treesOnly.filter((t) => t.files.find((f) => isDtsFile(f.name)));\r\n      const dtsFilesFromNPM = hasDTS.map((t) => treeToDTSFiles(t, `/node_modules/${t.moduleName}`));\r\n      const mightBeOnDT = treesOnly.filter((t) => !hasDTS.includes(t));\r\n      const dtTrees = yield Promise.all(\r\n        // TODO: Switch from 'latest' to the version from the original tree which is user-controlled\r\n        mightBeOnDT.map((f) => getFileTreeForModuleWithTag(config, `@types/${getDTName(f.moduleName)}`, \"latest\"))\r\n      );\r\n      const dtTreesOnly = dtTrees.filter((t) => !(\"error\" in t));\r\n      const dtsFilesFromDT = dtTreesOnly.map((t) => treeToDTSFiles(t, `/node_modules/@types/${getDTName(t.moduleName).replace(\"types__\", \"\")}`));\r\n      const allDTSFiles = dtsFilesFromNPM.concat(dtsFilesFromDT).reduce((p, c) => p.concat(c), []);\r\n      estimatedToDownload += allDTSFiles.length;\r\n      if (allDTSFiles.length && depth === 0) {\r\n        (_b = (_a = config.delegate).started) == null ? void 0 : _b.call(_a);\r\n      }\r\n      for (const tree of treesOnly) {\r\n        let prefix = `/node_modules/${tree.moduleName}`;\r\n        if (dtTreesOnly.includes(tree))\r\n          prefix = `/node_modules/@types/${getDTName(tree.moduleName).replace(\"types__\", \"\")}`;\r\n        const path = prefix + \"/package.json\";\r\n        const pkgJSON = yield getDTSFileForModuleWithVersion(config, tree.moduleName, tree.version, \"/package.json\");\r\n        if (typeof pkgJSON == \"string\") {\r\n          fsMap.set(path, pkgJSON);\r\n          (_d = (_c = config.delegate).receivedFile) == null ? void 0 : _d.call(_c, pkgJSON, path);\r\n        } else {\r\n          (_e = config.logger) == null ? void 0 : _e.error(`Could not download package.json for ${tree.moduleName}`);\r\n        }\r\n      }\r\n      yield Promise.all(\r\n        allDTSFiles.map((dts) => __async(this, null, function* () {\r\n          var _a2, _b2, _c2;\r\n          const dtsCode = yield getDTSFileForModuleWithVersion(config, dts.moduleName, dts.moduleVersion, dts.path);\r\n          estimatedDownloaded++;\r\n          if (dtsCode instanceof Error) {\r\n            (_a2 = config.logger) == null ? void 0 : _a2.error(`Had an issue getting ${dts.path} for ${dts.moduleName}`);\r\n          } else {\r\n            fsMap.set(dts.vfsPath, dtsCode);\r\n            (_c2 = (_b2 = config.delegate).receivedFile) == null ? void 0 : _c2.call(_b2, dtsCode, dts.vfsPath);\r\n            if (config.delegate.progress && estimatedDownloaded % 5 === 0) {\r\n              config.delegate.progress(estimatedDownloaded, estimatedToDownload);\r\n            }\r\n            yield resolveDeps(dtsCode, depth + 1);\r\n          }\r\n        }))\r\n      );\r\n    });\r\n  }\r\n};\r\nfunction treeToDTSFiles(tree, vfsPrefix) {\r\n  const dtsRefs = [];\r\n  for (const file of tree.files) {\r\n    if (isDtsFile(file.name)) {\r\n      dtsRefs.push({\r\n        moduleName: tree.moduleName,\r\n        moduleVersion: tree.version,\r\n        vfsPath: `${vfsPrefix}${file.name}`,\r\n        path: file.name\r\n      });\r\n    }\r\n  }\r\n  return dtsRefs;\r\n}\r\nvar getReferencesForModule = (ts, code) => {\r\n  const meta = ts.preProcessFile(code);\r\n  const libMap = ts.libMap || /* @__PURE__ */ new Map();\r\n  const references = meta.referencedFiles.concat(meta.importedFiles).concat(meta.libReferenceDirectives).filter((f) => !isDtsFile(f.fileName)).filter((d) => !libMap.has(d.fileName));\r\n  return references.map((r) => {\r\n    let version = void 0;\r\n    if (!r.fileName.startsWith(\".\")) {\r\n      version = \"latest\";\r\n      const line = code.slice(r.end).split(\"\\n\")[0];\r\n      if (line.includes(\"// types:\"))\r\n        version = line.split(\"// types: \")[1].trim();\r\n    }\r\n    return {\r\n      module: r.fileName,\r\n      version\r\n    };\r\n  }).filter((r, index, self) => self.findIndex((m) => m.module === r.module && m.version === r.version) === index);\r\n};\r\nfunction getNewDependencies(config, moduleMap, code) {\r\n  const refs = getReferencesForModule(config.typescript, code).map((ref) => __spreadProps(__spreadValues({}, ref), {\r\n    module: mapModuleNameToModule(ref.module)\r\n  }));\r\n  const modules = refs.filter((f) => !f.module.startsWith(\".\")).filter((m) => !moduleMap.has(m.module));\r\n  return modules;\r\n}\r\nvar getFileTreeForModuleWithTag = (config, moduleName, tag) => __async(void 0, null, function* () {\r\n  let toDownload = tag || \"latest\";\r\n  if (toDownload.split(\".\").length < 2) {\r\n    const response = yield getNPMVersionForModuleReference(config, moduleName, toDownload);\r\n    if (response instanceof Error) {\r\n      return {\r\n        error: response,\r\n        userFacingMessage: `Could not go from a tag to version on npm for ${moduleName} - possible typo?`\r\n      };\r\n    }\r\n    const neededVersion = response.version;\r\n    if (!neededVersion) {\r\n      const versions = yield getNPMVersionsForModule(config, moduleName);\r\n      if (versions instanceof Error) {\r\n        return {\r\n          error: response,\r\n          userFacingMessage: `Could not get versions on npm for ${moduleName} - possible typo?`\r\n        };\r\n      }\r\n      const tags = Object.entries(versions.tags).join(\", \");\r\n      return {\r\n        error: new Error(\"Could not find tag for module\"),\r\n        userFacingMessage: `Could not find a tag for ${moduleName} called ${tag}. Did find ${tags}`\r\n      };\r\n    }\r\n    toDownload = neededVersion;\r\n  }\r\n  const res = yield getFiletreeForModuleWithVersion(config, moduleName, toDownload);\r\n  if (res instanceof Error) {\r\n    return {\r\n      error: res,\r\n      userFacingMessage: `Could not get the files for ${moduleName}@${toDownload}. Is it possibly a typo?`\r\n    };\r\n  }\r\n  return res;\r\n});\r\nfunction getDTName(s) {\r\n  if (s.indexOf(\"@\") === 0 && s.indexOf(\"/\") !== -1) {\r\n    s = s.substr(1).replace(\"/\", \"__\");\r\n  }\r\n  return s;\r\n}\r\nfunction isDtsFile(file) {\r\n  return /\\.d\\.([^\\.]+\\.)?[cm]?ts$/i.test(file);\r\n}\r\nexport {\r\n  getFileTreeForModuleWithTag,\r\n  getNewDependencies,\r\n  getReferencesForModule,\r\n  setupTypeAcquisition\r\n};\r\n"],
  "mappings": "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",
  "names": []
}
